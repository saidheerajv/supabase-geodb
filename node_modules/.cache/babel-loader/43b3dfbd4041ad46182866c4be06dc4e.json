{"remainingRequest":"/home/dheeraj/Desktop/new-supa/supabase-geodb/node_modules/babel-loader/lib/index.js!/home/dheeraj/Desktop/new-supa/supabase-geodb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dheeraj/Desktop/new-supa/supabase-geodb/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/dheeraj/Desktop/new-supa/supabase-geodb/src/components/GetUserListings.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/dheeraj/Desktop/new-supa/supabase-geodb/src/components/GetUserListings.vue","mtime":1633903654119},{"path":"/home/dheeraj/Desktop/new-supa/supabase-geodb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dheeraj/Desktop/new-supa/supabase-geodb/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dheeraj/Desktop/new-supa/supabase-geodb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dheeraj/Desktop/new-supa/supabase-geodb/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2RoZWVyYWovRGVza3RvcC9uZXctc3VwYS9zdXBhYmFzZS1nZW9kYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICIuLi9zdXBhYmFzZSI7CmltcG9ydCBMaXN0aW5nQ2FyZCBmcm9tICIuL0xpc3RpbmdDYXJkLnZ1ZSI7CmltcG9ydCB7IHN0b3JlIH0gZnJvbSAiLi4vc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdldFVzZXJMaXN0aW5ncyIsCiAgY29tcG9uZW50czogewogICAgTGlzdGluZ0NhcmQ6IExpc3RpbmdDYXJkCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRVc2VyTGlzdGluZ3Moc3RvcmUudXNlci5pZCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmF2aWdhdG9yRXJyb3I6IGZhbHNlLAogICAgICBjb29yZHM6IHt9LAogICAgICBpdGVtczogW10sCiAgICAgIHJhZGlpOiAyMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFVzZXJMaXN0aW5nczogZnVuY3Rpb24gZ2V0VXNlckxpc3RpbmdzKHVzZXJJZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJHN1cGFiYXNlJGZyb20kLCBsaXN0aW5ncywgZXJyb3I7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGFiYXNlLmZyb20oImFsbF9sb2NhdGlvbnMiKS5zZWxlY3QoKS5lcSgnYWRkZWRfYnknLCB1c2VySWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkc3VwYWJhc2UkZnJvbSQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgbGlzdGluZ3MgPSBfeWllbGQkc3VwYWJhc2UkZnJvbSQuZGF0YTsKICAgICAgICAgICAgICAgIGVycm9yID0gX3lpZWxkJHN1cGFiYXNlJGZyb20kLmVycm9yOwoKICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciIsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0aW5ncyk7IC8vIGhhbmRsZSBmb3Igd2hlbiBubyB0b2RvcyBhcmUgcmV0dXJuZWQKCiAgICAgICAgICAgICAgICBpZiAoIShsaXN0aW5ncyA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsaXN0aW5ncy52YWx1ZSA9IFtdOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfdGhpcy5pdGVtcyA9IGxpc3RpbmdzOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/dheeraj/Desktop/new-supa/supabase-geodb/src/components/GetUserListings.vue"],"names":[],"mappings":";;AAkBA,SAAS,QAAT,QAAyB,aAAzB;AACA,OAAO,WAAP,MAAwB,mBAAxB;AACA,SAAS,KAAT,QAAsB,UAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,iBADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,WAAW,EAAX;AADU,GAFC;AAKZ,EAAA,OALY,qBAKF;AAET,SAAK,eAAL,CAAqB,KAAK,CAAC,IAAN,CAAW,EAAhC;AACD,GARY;AASb,EAAA,IATa,kBASN;AACL,WAAO;AACL,MAAA,cAAc,EAAE,KADX;AAEL,MAAA,MAAM,EAAE,EAFH;AAGL,MAAA,KAAK,EAAE,EAHF;AAIL,MAAA,KAAK,EAAE;AAJF,KAAP;AAMD,GAhBY;AAkBb,EAAA,OAAO,EAAE;AACD,IAAA,eADC,2BACe,MADf,EACuB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEY,QAAO,CAC5C,IADqC,CAChC,eADgC,EAErC,MAFqC,GAGrC,EAHqC,CAGlC,UAHkC,EAGvB,MAHuB,CAFZ;;AAAA;AAAA;AAEd,gBAAA,QAFc,yBAEpB,IAFoB;AAEJ,gBAAA,KAFI,yBAEJ,KAFI;;AAAA,qBAOxB,KAPwB;AAAA;AAAA;AAAA;;AAQ1B,gBAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,KAArB;AAR0B;;AAAA;AAWhC,gBAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAXgC,CAY5B;;AAZ4B,sBAaxB,QAAO,KAAM,IAbW;AAAA;AAAA;AAAA;;AAc1B,gBAAA,QAAQ,CAAC,KAAT,GAAiB,EAAjB;AAd0B;;AAAA;AAkB5B,gBAAA,KAAI,CAAC,KAAL,GAAa,QAAb;;AAlB4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmB7B;AApBM;AAlBI,CAAf","sourcesContent":["<template>\n  <div class=\"my-1\">\n    <h3 class=\"text-dark mb-3\">Your Listings</h3>\n    <div v-if=\"items.length > 0\">\n      <div v-for=\"item in items\" :key=\"item.id\">\n        <ListingCard :loc=\"item\" :showDeleteBtn=\"true\" :showActionBtn=\"false\"/>\n      </div>\n    </div>\n\n    <div v-else>\n      <div class=\"alert alert-warning text-center\" role=\"alert\">\n        <h5>You don't have any listings yet!</h5>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { supabase } from \"../supabase\";\nimport ListingCard from \"./ListingCard.vue\";\nimport { store } from \"../store\";\n\nexport default {\n  name: \"GetUserListings\",\n  components: {\n    ListingCard,\n  },\n   created() {\n\n    this.getUserListings(store.user.id);\n  },\n  data() {\n    return {\n      navigatorError: false,\n      coords: {},\n      items: [],\n      radii: 20,\n    };\n  },\n\n  methods: {\n    async getUserListings(userId) {\n      \n      const { data: listings, error } = await supabase\n        .from(\"all_locations\")\n        .select()\n        .eq('added_by',userId);\n\n      if (error) {\n        console.log(\"error\", error);\n        return;\n      }\n  console.log(listings);\n      // handle for when no todos are returned\n      if (listings === null) {\n        listings.value = [];\n        return;\n      }\n\n      this.items = listings;\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":""}]}